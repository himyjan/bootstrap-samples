@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<style>
    img {
        max-width: 100%;
        height: auto;
    }
</style>

<script src="js/ClaimsProgressbar.js"></script>

<div class="container-md">

    <div class="row">

        <div class="col">

            <div class="card shadow rounded-1">
                <div class="card-body  bg-light">
                    <H1 class="fs-6">Bootstrap off canvas and progress bar (toggle and button are not synchronized)</H1>
                    <p>Skip link opens left side off-canvas</p>
                </div>
            </div>

        </div>

    </div>

    <div class="row mt-3">
        <div class="col-5">

            <fieldset>

                <legend aria-labelledby="toggleSidebar">Toggle</legend>

                <div class="form-check form-switch form-control-lg">
                    <input class="form-check-input" type="checkbox" id="toggleSidebar">
                    <label class="form-check-label" for="toggleSidebar">Off canvas</label>
                </div>

            </fieldset>

        </div>

    </div>

    <form method="post">
        @* off-canvas *@

        @{
            await Html.RenderPartialAsync("IndexPartial");
        }

    </form>

</div>

@* code for toggle *@
@section scripts{

    <script src="js/sidebar.js"></script>

    <script>
        /*
         * For left side off-canvas shown as a skip-link
         * On close of the off-canvas, hide the skip-link element
         * and set focus to the about button.
         *
         * The above is for experimental purposes.
         *
         */
        var leftSideOffCanvas = document.getElementById("offcanvasMain1");
        var aboutButton = document.getElementById("aboutButton");
        var link = document.getElementById('skipper');
        leftSideOffCanvas.addEventListener("hidden.bs.offcanvas", function (e) {
            console.log(e);
            link.style.display = 'none';
            aboutButton.focus();
        });
    </script>
}


